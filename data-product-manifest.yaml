version: 0.0.1
jobId: "1025"
jobName: ayush_sample_Dp
jobType: Source Aligned Data Product
developerId: fb302eb3-31f0-4180-8dcd-ff6b2305ad54
domain: sale
alias: loadiceberabtable
discoveryPort:
  name: ayush_sample_Dp
inputPorts:
  - alias: Weather_Data_1
    isDynamic: true
    path: s3://byte-etl-externaldemo/weather_data/2024*.csv
    optional:
      persistDataFrame: false
      advanceOptions:
        delimiter: ","
      enableDataReconciliation: false
      enforceSchema: false
      connection: Base S3 Connectivity
      dataSetUrn: urn:dv:dataset:3420b778-058c-4158-9c1f-f141913edd2a
    type: inputDelimited
  - alias: GCP_dabur_1
    isDynamic: true
    path: gs://dabur_poc_inutdata/weather_data/20240118095755.csv
    optional:
      persistDataFrame: false
      advanceOptions:
        delimiter: ","
      enableDataReconciliation: false
      enforceSchema: false
      connection: GCP_Ayush
      dataSetUrn: urn:dv:dataset:f3ad834c-377d-4c41-9840-d1da484b01d1
    type: inputDelimited
productState:
  isDynamic: true
  alias: loadiceberabtable
  retentionVersions: ""
  logicalSchema:
    properties:
      REGION:
        type: STRING
        description: ""
      ZSMCODE:
        type: STRING
        description: ""
      rowID:
        type: STRING
        description: ""
      formatting:
        type: STRING
        description: ""
      createdDate:
        type: STRING
        description: ""
      createdIP:
        type: STRING
        description: ""
      modifiedIP:
        type: STRING
        description: ""
      DATE:
        type: STRING
        description: Date of record
      HOUR:
        type: STRING
        description: Hour of record
      ORDER_ID:
        type: STRING
        description: ID of the order
      ORDER_NO:
        type: STRING
        description: Alphanumeric Order number
      CUSTOMER_ID:
        type: STRING
        description: Customer ID
      ADDRESS_TYPE:
        type: STRING
        description: Type of address
      ORDER_TYPE:
        type: STRING
        description: Type of order
        isPII: true
      PAYMENT_MODE:
        type: STRING
        description: Mode of payment
      ORDER_MODE:
        type: STRING
        description: Mode of order
      ORDERED_ITEMS:
        type: STRING
        description: Distinct list of ordered items
      COST:
        type: STRING
        description: Cost of the item
      ITEMS_QUANTITY:
        type: STRING
        description: Quantity of items
      ITEM_TYPE:
        type: STRING
        description: Type of item
      PROMO_CODE:
        type: STRING
        description: Promo code used if any
      DELIVERY_RATING:
        type: STRING
        description: Delivery rating
      STORE:
        type: STRING
        description: Store location
      CITY:
        type: STRING
        description: City of the store
      STATE:
        type: STRING
        description: State of the store
      ADJ_STORE:
        type: STRING
        description: Adjacent store name
      ADJ_STORE_CNT:
        type: STRING
        description: Adjacent store count
      ADJ_STORES:
        type: STRING
        description: Count of adjacent stores
      NUMBER_OF_MEALS:
        type: STRING
        description: Number of meals in order
      NUMBER_OF_LIQUIDS:
        type: STRING
        description: Number of liquid items in order
      NUMBER_OF_SOLIDS:
        type: STRING
        description: Number of solid items in the order
      FAMILY_SIZE:
        type: STRING
        description: Family size of order
      CUSTOMER_TYPE:
        type: STRING
        description: Type of customer
      WEEKDAY:
        type: STRING
        description: Weekday flag
      CSAT:
        type: STRING
        description: ""
      LDO:
        type: STRING
        description: ""
      FAMILY_SIZE_GROUP:
        type: STRING
        description: ""
      ITEMS_QUANTITY_GROUP:
        type: STRING
        description: ""
  stateStoreType: loadDataIceberg
  isProfilingEnabled: false
  updateStrategy: Overwrite
  tableName: s3source.mytablename
  warehousePath: https://s3:/warehouse/path
  catalogName: glue
  optional:
    persistDataFrame: false
    enableDataReconciliation: false
    enforceSchema: true
    enforceSchemaMethod: Warning
    catalogType: glue
  refreshInterval: None
transformation:
  - isDynamic: true
    alias: Spark_SQL_1
    description: loaddatttopyspark
    sequence: 3
    inputDataFrameList:
      - inputDataFrame: Weather_Data_1
        tempViewName: mytablename
      - inputDataFrame: GCP_dabur_1
        tempViewName: mytablename1
    query: Select * from mytablename
    optional:
      persistDataFrame: false
    type: operationThroughSqlQuery
controlPort:
  dataQualityRules: {}
